<html>
  <head>
    <link
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Employee Management Dashboard</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <button
                type="button"
                class="btn-sm btn-primary"
                data-bs-toggle="modal"
                data-bs-target="#addModal"
              >
                Add Employee
              </button>
            </li>
          </ul>
          <!-- <form class="d-flex">
            <input
              class="form-control me-2"
              type="search"
              placeholder="Search Employee"
              aria-label="Search"
            />
            <button class="btn btn-outline-primary ml-2" type="submit">
              Search
            </button>
          </form> -->
        </div>
      </div>
    </nav>
    <div class="content">
      <div class="container" id="main-container">
        <div class="row">
          <div class="col-sm-4">
            <a
              href="#custom-modal"
              class="btn btn-custom waves-effect waves-light mb-4"
              data-animation="fadein"
              data-plugin="custommodal"
              data-overlayspeed="200"
              data-overlaycolor="#36404a"
              ><i class="mdi mdi-plus"></i
            ></a>
          </div>
          <!-- end col -->
        </div>
        <!-- end row -->
        <div class="row">
          <div *ngFor="let employee of employees" class="col-lg-4">
            <div class="text-center card-box">
              <div class="member-card pt-2 pb-2">
                <div class="thumb-lg member-thumb mx-auto">
                  <img
                    src="{{ employee?.imgUrl }}"
                    class="rounded-circle img-thumbnail"
                    alt="profile-image"
                  />
                </div>
                <div class="">
                  <h4 class="mt-3">{{ employee?.name }}</h4>
                  <p class="text-muted">
                    {{ employee?.jobTitle }}<span>| </span
                    ><span
                      ><a href="#" class="text-pink">{{
                        employee?.email
                      }}</a></span
                    >
                  </p>
                </div>
                <div class="">
                  <p class="text-muted">Phone : {{ employee?.phone }}</p>
                </div>
                <button
                  type="button"
                  class="
                    btn btn-success
                    mt-3
                    mb-3
                    btn-rounded
                    waves-effect
                    w-md
                    waves-light
                  "
                  data-bs-toggle="modal"
                  data-bs-target="#updateModal"
                  (click)="updateButton(employee)"
                >
                  Edit
                </button>
                <button
                  type="button"
                  class="
                    btn btn-danger
                    mt-3
                    ml-2
                    mb-3
                    btn-rounded
                    waves-effect
                    w-md
                    waves-light
                  "
                  data-bs-toggle="modal"
                  data-bs-target="#deleteModal"
                  (click)="deleteButton(employee)"
                >
                  Delete
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- container -->
    </div>

    <!-- Add Modal  -->
    <div
      class="modal fade"
      id="addModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Add Employee</h5>
            <button
              type="button"
              class="btn-close"
              data-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form #addForm="ngForm" (ngSubmit)="onAddEmployee(addForm)">
              <div class="mb-2">
                <label for="exampleInputEmail1" class="form-label">Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  ngModel
                  name="name"
                />
              </div>
              <div class="mb-2">
                <label for="exampleInputEmail1" class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  ngModel
                  name="email"
                />
              </div>
              <div class="mb-2">
                <label for="exampleInputEmail1" class="form-label"
                  >Job Title</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="jobTitle"
                  ngModel
                  name="jobTitle"
                />
              </div>
              <div class="mb-2">
                <label for="exampleInputEmail1" class="form-label">Phone</label>
                <input
                  type="text"
                  class="form-control"
                  id="phone"
                  ngModel
                  name="phone"
                />
              </div>
              <div class="mb-4">
                <label for="exampleInputEmail1" class="form-label"
                  >Image URL</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="imgUrl"
                  ngModel
                  name="imgUrl"
                />
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                  id="add-empl-close"
                >
                  Close
                </button>
                <button type="submit" class="btn btn-primary">
                  Save changes
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Update Modal  -->

    <div
      class="modal fade"
      id="updateModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Update Employee</h5>
            <button
              type="button"
              class="btn-close"
              data-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form #editForm="ngForm">
              <div class="mb-2">
                <label for="exampleInputEmail1" class="form-label">Name</label>
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  ngModel="{{ updateEmployee?.name }}"
                  name="name"
                />
              </div>
              <div class="mb-2">
                <input
                  type="hidden"
                  class="form-control"
                  id="id"
                  name="id"
                  ngModel="{{ updateEmployee?.id }}"
                />
              </div>
              <div class="mb-2">
                <input
                  type="hidden"
                  class="form-control"
                  id="userCode"
                  name="userCode"
                  ngModel="{{ updateEmployee?.employeeCode }}"
                />
              </div>
              <div class="mb-2">
                <label for="exampleInputEmail1" class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  ngModel="{{ updateEmployee?.email }}"
                  name="email"
                />
              </div>
              <div class="mb-2">
                <label for="exampleInputEmail1" class="form-label"
                  >Job Title</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="jobTitle"
                  ngModel="{{ updateEmployee?.jobTitle }}"
                  name="jobTitle"
                />
              </div>
              <div class="mb-2">
                <label for="exampleInputEmail1" class="form-label">Phone</label>
                <input
                  type="text"
                  class="form-control"
                  id="phone"
                  ngModel="{{ updateEmployee?.phone }}"
                  name="phone"
                />
              </div>
              <div class="mb-4">
                <label for="exampleInputEmail1" class="form-label"
                  >Image URL</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="imgUrl"
                  ngModel="{{ updateEmployee?.imgUrl }}"
                  name="imgUrl"
                />
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                  id="add-empl-close"
                >
                  Close
                </button>
                <button
                  (click)="onUpdateEmployee(editForm.value)"
                  type="submit"
                  class="btn btn-primary"
                  data-dismiss="modal"
                >
                  Save changes
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Delete Modal  -->
    <div
      class="modal fade"
      id="deleteModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <!-- <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Delete Employee</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div> -->
          <div class="modal-body">
            Are you sure you want to delete employee {{ deleteEmployee?.name }}?
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              No
            </button>
            <button
              (click)="onDeleteEmployee(7)"
              type="button"
              class="btn btn-danger"
            >
              Yes
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
